{
  "id": "2128dd33-dcbe-4134-8fcf-6b535c95ebbd",
  "prevId": "405c5513-170a-4174-be0a-0d52088f685d",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.ab_test_participants": {
      "name": "ab_test_participants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "test_id": {
          "name": "test_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "variant": {
          "name": "variant",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "assigned_at": {
          "name": "assigned_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        }
      },
      "indexes": {
        "ab_test_participants_test_id_idx": {
          "name": "ab_test_participants_test_id_idx",
          "columns": [
            {
              "expression": "test_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ab_test_participants_user_id_idx": {
          "name": "ab_test_participants_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ab_test_participants_test_id_ab_tests_id_fk": {
          "name": "ab_test_participants_test_id_ab_tests_id_fk",
          "tableFrom": "ab_test_participants",
          "tableTo": "ab_tests",
          "columnsFrom": [
            "test_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ab_test_participants_user_id_users_id_fk": {
          "name": "ab_test_participants_user_id_users_id_fk",
          "tableFrom": "ab_test_participants",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ab_test_results": {
      "name": "ab_test_results",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "test_id": {
          "name": "test_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "participant_id": {
          "name": "participant_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "variant": {
          "name": "variant",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "formula_code_a": {
          "name": "formula_code_a",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "formula_code_b": {
          "name": "formula_code_b",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "selected_variant": {
          "name": "selected_variant",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "engagement_score": {
          "name": "engagement_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "conversion_score": {
          "name": "conversion_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "user_preference": {
          "name": "user_preference",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "platform": {
          "name": "platform",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "objective": {
          "name": "objective",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "topic": {
          "name": "topic",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "context_data": {
          "name": "context_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "confidence_level": {
          "name": "confidence_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sample_size": {
          "name": "sample_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        }
      },
      "indexes": {
        "ab_test_results_test_id_idx": {
          "name": "ab_test_results_test_id_idx",
          "columns": [
            {
              "expression": "test_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ab_test_results_user_id_idx": {
          "name": "ab_test_results_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ab_test_results_variant_idx": {
          "name": "ab_test_results_variant_idx",
          "columns": [
            {
              "expression": "variant",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ab_test_results_completed_at_idx": {
          "name": "ab_test_results_completed_at_idx",
          "columns": [
            {
              "expression": "completed_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ab_test_results_test_id_ab_tests_id_fk": {
          "name": "ab_test_results_test_id_ab_tests_id_fk",
          "tableFrom": "ab_test_results",
          "tableTo": "ab_tests",
          "columnsFrom": [
            "test_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "ab_test_results_user_id_users_id_fk": {
          "name": "ab_test_results_user_id_users_id_fk",
          "tableFrom": "ab_test_results",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "ab_test_results_participant_id_ab_test_participants_id_fk": {
          "name": "ab_test_results_participant_id_ab_test_participants_id_fk",
          "tableFrom": "ab_test_results",
          "tableTo": "ab_test_participants",
          "columnsFrom": [
            "participant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ab_test_results_formula_code_a_hook_formulas_code_fk": {
          "name": "ab_test_results_formula_code_a_hook_formulas_code_fk",
          "tableFrom": "ab_test_results",
          "tableTo": "hook_formulas",
          "columnsFrom": [
            "formula_code_a"
          ],
          "columnsTo": [
            "code"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ab_test_results_formula_code_b_hook_formulas_code_fk": {
          "name": "ab_test_results_formula_code_b_hook_formulas_code_fk",
          "tableFrom": "ab_test_results",
          "tableTo": "hook_formulas",
          "columnsFrom": [
            "formula_code_b"
          ],
          "columnsTo": [
            "code"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ab_tests": {
      "name": "ab_tests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "variants": {
          "name": "variants",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "traffic_allocation": {
          "name": "traffic_allocation",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "targeting_rules": {
          "name": "targeting_rules",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "start_date": {
          "name": "start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "end_date": {
          "name": "end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.analytics_events": {
      "name": "analytics_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "event_data": {
          "name": "event_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "device_info": {
          "name": "device_info",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "page_info": {
          "name": "page_info",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        }
      },
      "indexes": {
        "analytics_events_session_id_idx": {
          "name": "analytics_events_session_id_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "analytics_events_event_type_idx": {
          "name": "analytics_events_event_type_idx",
          "columns": [
            {
              "expression": "event_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "analytics_events_created_at_idx": {
          "name": "analytics_events_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "analytics_events_user_id_users_id_fk": {
          "name": "analytics_events_user_id_users_id_fk",
          "tableFrom": "analytics_events",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.api_usage_tracking": {
      "name": "api_usage_tracking",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "endpoint": {
          "name": "endpoint",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "method": {
          "name": "method",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "status_code": {
          "name": "status_code",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "response_time": {
          "name": "response_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "request_size": {
          "name": "request_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "response_size": {
          "name": "response_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "ai_service": {
          "name": "ai_service",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "ai_model": {
          "name": "ai_model",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "ai_tokens_used": {
          "name": "ai_tokens_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "ai_cost": {
          "name": "ai_cost",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "error_type": {
          "name": "error_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        }
      },
      "indexes": {
        "api_usage_endpoint_idx": {
          "name": "api_usage_endpoint_idx",
          "columns": [
            {
              "expression": "endpoint",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "api_usage_timestamp_idx": {
          "name": "api_usage_timestamp_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "api_usage_status_code_idx": {
          "name": "api_usage_status_code_idx",
          "columns": [
            {
              "expression": "status_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "api_usage_tracking_user_id_users_id_fk": {
          "name": "api_usage_tracking_user_id_users_id_fk",
          "tableFrom": "api_usage_tracking",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.business_intelligence": {
      "name": "business_intelligence",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "metric_name": {
          "name": "metric_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "metric_value": {
          "name": "metric_value",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "metric_type": {
          "name": "metric_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "dimension": {
          "name": "dimension",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "dimension_value": {
          "name": "dimension_value",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "period_type": {
          "name": "period_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "period_start": {
          "name": "period_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "period_end": {
          "name": "period_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "calculated_at": {
          "name": "calculated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        }
      },
      "indexes": {
        "business_intelligence_metric_name_idx": {
          "name": "business_intelligence_metric_name_idx",
          "columns": [
            {
              "expression": "metric_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "business_intelligence_period_idx": {
          "name": "business_intelligence_period_idx",
          "columns": [
            {
              "expression": "period_start",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "period_end",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "business_intelligence_dimension_idx": {
          "name": "business_intelligence_dimension_idx",
          "columns": [
            {
              "expression": "dimension",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "dimension_value",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.conversion_funnels": {
      "name": "conversion_funnels",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "steps": {
          "name": "steps",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.error_tracking": {
      "name": "error_tracking",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "error_type": {
          "name": "error_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "error_stack": {
          "name": "error_stack",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_code": {
          "name": "error_code",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "device_info": {
          "name": "device_info",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "additional_context": {
          "name": "additional_context",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "is_resolved": {
          "name": "is_resolved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_notes": {
          "name": "resolution_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        }
      },
      "indexes": {
        "error_tracking_error_type_idx": {
          "name": "error_tracking_error_type_idx",
          "columns": [
            {
              "expression": "error_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "error_tracking_timestamp_idx": {
          "name": "error_tracking_timestamp_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "error_tracking_resolved_idx": {
          "name": "error_tracking_resolved_idx",
          "columns": [
            {
              "expression": "is_resolved",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "error_tracking_user_id_users_id_fk": {
          "name": "error_tracking_user_id_users_id_fk",
          "tableFrom": "error_tracking",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.favorite_hooks": {
      "name": "favorite_hooks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "generation_id": {
          "name": "generation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "hook": {
          "name": "hook",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hook_data": {
          "name": "hook_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "framework": {
          "name": "framework",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "platform_notes": {
          "name": "platform_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "topic": {
          "name": "topic",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "platform": {
          "name": "platform",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        }
      },
      "indexes": {
        "favorite_hooks_user_id_idx": {
          "name": "favorite_hooks_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "favorite_hooks_created_at_idx": {
          "name": "favorite_hooks_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "favorite_hooks_user_id_users_id_fk": {
          "name": "favorite_hooks_user_id_users_id_fk",
          "tableFrom": "favorite_hooks",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "favorite_hooks_generation_id_hook_generations_id_fk": {
          "name": "favorite_hooks_generation_id_hook_generations_id_fk",
          "tableFrom": "favorite_hooks",
          "tableTo": "hook_generations",
          "columnsFrom": [
            "generation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.funnel_events": {
      "name": "funnel_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "funnel_id": {
          "name": "funnel_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "step_index": {
          "name": "step_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "step_name": {
          "name": "step_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "event_data": {
          "name": "event_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        }
      },
      "indexes": {
        "funnel_events_funnel_id_idx": {
          "name": "funnel_events_funnel_id_idx",
          "columns": [
            {
              "expression": "funnel_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "funnel_events_session_id_idx": {
          "name": "funnel_events_session_id_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "funnel_events_funnel_id_conversion_funnels_id_fk": {
          "name": "funnel_events_funnel_id_conversion_funnels_id_fk",
          "tableFrom": "funnel_events",
          "tableTo": "conversion_funnels",
          "columnsFrom": [
            "funnel_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "funnel_events_user_id_users_id_fk": {
          "name": "funnel_events_user_id_users_id_fk",
          "tableFrom": "funnel_events",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.hook_formulas": {
      "name": "hook_formulas",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "code": {
          "name": "code",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "structural_template": {
          "name": "structural_template",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "psychological_triggers": {
          "name": "psychological_triggers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "primary_driver": {
          "name": "primary_driver",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "effectiveness_rating": {
          "name": "effectiveness_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "risk_factor": {
          "name": "risk_factor",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "optimal_niches": {
          "name": "optimal_niches",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "example_variations": {
          "name": "example_variations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "usage_guidelines": {
          "name": "usage_guidelines",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cautionary_notes": {
          "name": "cautionary_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "avg_engagement_rate": {
          "name": "avg_engagement_rate",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "avg_conversion_rate": {
          "name": "avg_conversion_rate",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "fatigue_resistance": {
          "name": "fatigue_resistance",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 50
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        }
      },
      "indexes": {
        "hook_formulas_code_idx": {
          "name": "hook_formulas_code_idx",
          "columns": [
            {
              "expression": "code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "hook_formulas_category_idx": {
          "name": "hook_formulas_category_idx",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "hook_formulas_primary_driver_idx": {
          "name": "hook_formulas_primary_driver_idx",
          "columns": [
            {
              "expression": "primary_driver",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "hook_formulas_effectiveness_idx": {
          "name": "hook_formulas_effectiveness_idx",
          "columns": [
            {
              "expression": "effectiveness_rating",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "hook_formulas_active_idx": {
          "name": "hook_formulas_active_idx",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "hook_formulas_code_unique": {
          "name": "hook_formulas_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.hook_generations": {
      "name": "hook_generations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "platform": {
          "name": "platform",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "objective": {
          "name": "objective",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "topic": {
          "name": "topic",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "model_type": {
          "name": "model_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'gpt-4o-mini'"
        },
        "hooks": {
          "name": "hooks",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "top_three_variants": {
          "name": "top_three_variants",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "used_formulas": {
          "name": "used_formulas",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "psychological_strategy": {
          "name": "psychological_strategy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "adaptation_level": {
          "name": "adaptation_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 75
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        }
      },
      "indexes": {
        "hook_generations_user_id_idx": {
          "name": "hook_generations_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "hook_generations_created_at_idx": {
          "name": "hook_generations_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "hook_generations_platform_idx": {
          "name": "hook_generations_platform_idx",
          "columns": [
            {
              "expression": "platform",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "hook_generations_user_id_users_id_fk": {
          "name": "hook_generations_user_id_users_id_fk",
          "tableFrom": "hook_generations",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.hook_performance_analytics": {
      "name": "hook_performance_analytics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "generation_id": {
          "name": "generation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "hook_index": {
          "name": "hook_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "formula_code": {
          "name": "formula_code",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "platform": {
          "name": "platform",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "objective": {
          "name": "objective",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_rating": {
          "name": "user_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "was_used": {
          "name": "was_used",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "was_favorited": {
          "name": "was_favorited",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "was_shared": {
          "name": "was_shared",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "actual_views": {
          "name": "actual_views",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "actual_engagement": {
          "name": "actual_engagement",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "actual_conversions": {
          "name": "actual_conversions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "performance_notes": {
          "name": "performance_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 50
        },
        "context_tags": {
          "name": "context_tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "recorded_at": {
          "name": "recorded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        }
      },
      "indexes": {
        "hook_performance_user_id_idx": {
          "name": "hook_performance_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "hook_performance_generation_id_idx": {
          "name": "hook_performance_generation_id_idx",
          "columns": [
            {
              "expression": "generation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "hook_performance_formula_code_idx": {
          "name": "hook_performance_formula_code_idx",
          "columns": [
            {
              "expression": "formula_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "hook_performance_platform_idx": {
          "name": "hook_performance_platform_idx",
          "columns": [
            {
              "expression": "platform",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "hook_performance_recorded_at_idx": {
          "name": "hook_performance_recorded_at_idx",
          "columns": [
            {
              "expression": "recorded_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "hook_performance_rating_idx": {
          "name": "hook_performance_rating_idx",
          "columns": [
            {
              "expression": "user_rating",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "hook_performance_analytics_user_id_users_id_fk": {
          "name": "hook_performance_analytics_user_id_users_id_fk",
          "tableFrom": "hook_performance_analytics",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "hook_performance_analytics_generation_id_hook_generations_id_fk": {
          "name": "hook_performance_analytics_generation_id_hook_generations_id_fk",
          "tableFrom": "hook_performance_analytics",
          "tableTo": "hook_generations",
          "columnsFrom": [
            "generation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "hook_performance_analytics_formula_code_hook_formulas_code_fk": {
          "name": "hook_performance_analytics_formula_code_hook_formulas_code_fk",
          "tableFrom": "hook_performance_analytics",
          "tableTo": "hook_formulas",
          "columnsFrom": [
            "formula_code"
          ],
          "columnsTo": [
            "code"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.hook_trend_tracking": {
      "name": "hook_trend_tracking",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "formula_code": {
          "name": "formula_code",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "platform": {
          "name": "platform",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "weekly_usage": {
          "name": "weekly_usage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "monthly_usage": {
          "name": "monthly_usage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "avg_performance_score": {
          "name": "avg_performance_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "trend_direction": {
          "name": "trend_direction",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'stable'"
        },
        "fatigue_level": {
          "name": "fatigue_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_high_performance": {
          "name": "last_high_performance",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "consecutive_low_performance": {
          "name": "consecutive_low_performance",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "seasonality_pattern": {
          "name": "seasonality_pattern",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "optimal_timeframes": {
          "name": "optimal_timeframes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "context_factors": {
          "name": "context_factors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "recommendation_status": {
          "name": "recommendation_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "alternative_formulas": {
          "name": "alternative_formulas",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "last_calculated": {
          "name": "last_calculated",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        },
        "data_points": {
          "name": "data_points",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        }
      },
      "indexes": {
        "hook_trend_formula_code_idx": {
          "name": "hook_trend_formula_code_idx",
          "columns": [
            {
              "expression": "formula_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "hook_trend_platform_idx": {
          "name": "hook_trend_platform_idx",
          "columns": [
            {
              "expression": "platform",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "hook_trend_direction_idx": {
          "name": "hook_trend_direction_idx",
          "columns": [
            {
              "expression": "trend_direction",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "hook_trend_fatigue_idx": {
          "name": "hook_trend_fatigue_idx",
          "columns": [
            {
              "expression": "fatigue_level",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "hook_trend_recommendation_idx": {
          "name": "hook_trend_recommendation_idx",
          "columns": [
            {
              "expression": "recommendation_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "hook_trend_calculated_idx": {
          "name": "hook_trend_calculated_idx",
          "columns": [
            {
              "expression": "last_calculated",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "hook_trend_tracking_formula_code_hook_formulas_code_fk": {
          "name": "hook_trend_tracking_formula_code_hook_formulas_code_fk",
          "tableFrom": "hook_trend_tracking",
          "tableTo": "hook_formulas",
          "columnsFrom": [
            "formula_code"
          ],
          "columnsTo": [
            "code"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.payment_history": {
      "name": "payment_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_payment_intent_id": {
          "name": "stripe_payment_intent_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_invoice_id": {
          "name": "stripe_invoice_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_subscription_id": {
          "name": "stripe_subscription_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "amount": {
          "name": "amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'usd'"
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "payment_method": {
          "name": "payment_method",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "plan_id": {
          "name": "plan_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "plan_name": {
          "name": "plan_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "billing_period": {
          "name": "billing_period",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "receipt_url": {
          "name": "receipt_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "refunded": {
          "name": "refunded",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "refunded_amount": {
          "name": "refunded_amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "paid_at": {
          "name": "paid_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "failed_at": {
          "name": "failed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        }
      },
      "indexes": {
        "payment_history_user_id_idx": {
          "name": "payment_history_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payment_history_status_idx": {
          "name": "payment_history_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payment_history_stripe_payment_intent_idx": {
          "name": "payment_history_stripe_payment_intent_idx",
          "columns": [
            {
              "expression": "stripe_payment_intent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payment_history_paid_at_idx": {
          "name": "payment_history_paid_at_idx",
          "columns": [
            {
              "expression": "paid_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "payment_history_user_id_users_id_fk": {
          "name": "payment_history_user_id_users_id_fk",
          "tableFrom": "payment_history",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "payment_history_plan_id_subscription_plans_id_fk": {
          "name": "payment_history_plan_id_subscription_plans_id_fk",
          "tableFrom": "payment_history",
          "tableTo": "subscription_plans",
          "columnsFrom": [
            "plan_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "payment_history_stripe_payment_intent_id_unique": {
          "name": "payment_history_stripe_payment_intent_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "stripe_payment_intent_id"
          ]
        },
        "payment_history_stripe_invoice_id_unique": {
          "name": "payment_history_stripe_invoice_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "stripe_invoice_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.psychological_profiles": {
      "name": "psychological_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "preferred_triggers": {
          "name": "preferred_triggers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "avoided_triggers": {
          "name": "avoided_triggers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "risk_tolerance": {
          "name": "risk_tolerance",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'medium'"
        },
        "creativity_level": {
          "name": "creativity_level",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'balanced'"
        },
        "successful_formulas": {
          "name": "successful_formulas",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "underperforming_formulas": {
          "name": "underperforming_formulas",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "personality_type": {
          "name": "personality_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "preferred_categories": {
          "name": "preferred_categories",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "content_style": {
          "name": "content_style",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'mixed'"
        },
        "urgency_preference": {
          "name": "urgency_preference",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'moderate'"
        },
        "learning_rate": {
          "name": "learning_rate",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 50
        },
        "last_updated": {
          "name": "last_updated",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        },
        "profile_completeness": {
          "name": "profile_completeness",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        }
      },
      "indexes": {
        "psychological_profiles_user_id_idx": {
          "name": "psychological_profiles_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "psychological_profiles_risk_tolerance_idx": {
          "name": "psychological_profiles_risk_tolerance_idx",
          "columns": [
            {
              "expression": "risk_tolerance",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "psychological_profiles_updated_at_idx": {
          "name": "psychological_profiles_updated_at_idx",
          "columns": [
            {
              "expression": "updated_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "psychological_profiles_user_id_users_id_fk": {
          "name": "psychological_profiles_user_id_users_id_fk",
          "tableFrom": "psychological_profiles",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.subscription_plans": {
      "name": "subscription_plans",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "stripe_price_id": {
          "name": "stripe_price_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_product_id": {
          "name": "stripe_product_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "price": {
          "name": "price",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'usd'"
        },
        "interval": {
          "name": "interval",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "interval_count": {
          "name": "interval_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "pro_generations_limit": {
          "name": "pro_generations_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "draft_generations_limit": {
          "name": "draft_generations_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "team_seats": {
          "name": "team_seats",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "has_advanced_analytics": {
          "name": "has_advanced_analytics",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "has_priority_support": {
          "name": "has_priority_support",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "trial_period_days": {
          "name": "trial_period_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_popular": {
          "name": "is_popular",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        }
      },
      "indexes": {
        "subscription_plans_stripe_price_id_idx": {
          "name": "subscription_plans_stripe_price_id_idx",
          "columns": [
            {
              "expression": "stripe_price_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "subscription_plans_name_idx": {
          "name": "subscription_plans_name_idx",
          "columns": [
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "subscription_plans_active_idx": {
          "name": "subscription_plans_active_idx",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "subscription_plans_stripe_price_id_unique": {
          "name": "subscription_plans_stripe_price_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "stripe_price_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.system_metrics": {
      "name": "system_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "metric_type": {
          "name": "metric_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "metric_name": {
          "name": "metric_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        }
      },
      "indexes": {
        "system_metrics_metric_type_idx": {
          "name": "system_metrics_metric_type_idx",
          "columns": [
            {
              "expression": "metric_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "system_metrics_timestamp_idx": {
          "name": "system_metrics_timestamp_idx",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.usage_tracking": {
      "name": "usage_tracking",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "period_start": {
          "name": "period_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "period_end": {
          "name": "period_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "pro_generations_used": {
          "name": "pro_generations_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "draft_generations_used": {
          "name": "draft_generations_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "pro_generations_limit": {
          "name": "pro_generations_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "draft_generations_limit": {
          "name": "draft_generations_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "subscription_plan": {
          "name": "subscription_plan",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_subscription_id": {
          "name": "stripe_subscription_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "pro_overage_used": {
          "name": "pro_overage_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "overage_charges": {
          "name": "overage_charges",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_reset_at": {
          "name": "last_reset_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        },
        "next_reset_at": {
          "name": "next_reset_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        }
      },
      "indexes": {
        "usage_tracking_user_id_idx": {
          "name": "usage_tracking_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "usage_tracking_period_idx": {
          "name": "usage_tracking_period_idx",
          "columns": [
            {
              "expression": "period_start",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "period_end",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "usage_tracking_subscription_idx": {
          "name": "usage_tracking_subscription_idx",
          "columns": [
            {
              "expression": "stripe_subscription_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "usage_tracking_next_reset_idx": {
          "name": "usage_tracking_next_reset_idx",
          "columns": [
            {
              "expression": "next_reset_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "usage_tracking_user_id_users_id_fk": {
          "name": "usage_tracking_user_id_users_id_fk",
          "tableFrom": "usage_tracking",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_consent": {
      "name": "user_consent",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "consent_type": {
          "name": "consent_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "consented": {
          "name": "consented",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "consent_data": {
          "name": "consent_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        }
      },
      "indexes": {
        "user_consent_user_id_idx": {
          "name": "user_consent_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_consent_consent_type_idx": {
          "name": "user_consent_consent_type_idx",
          "columns": [
            {
              "expression": "consent_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_consent_user_id_users_id_fk": {
          "name": "user_consent_user_id_users_id_fk",
          "tableFrom": "user_consent",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_journey_tracking": {
      "name": "user_journey_tracking",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "stage": {
          "name": "stage",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "step": {
          "name": "step",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "from_stage": {
          "name": "from_stage",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "from_step": {
          "name": "from_step",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "duration": {
          "name": "duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        }
      },
      "indexes": {
        "user_journey_session_id_idx": {
          "name": "user_journey_session_id_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_journey_stage_idx": {
          "name": "user_journey_stage_idx",
          "columns": [
            {
              "expression": "stage",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_journey_timestamp_idx": {
          "name": "user_journey_timestamp_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_journey_tracking_user_id_users_id_fk": {
          "name": "user_journey_tracking_user_id_users_id_fk",
          "tableFrom": "user_journey_tracking",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email": {
          "name": "email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "firebase_uid": {
          "name": "firebase_uid",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "first_name": {
          "name": "first_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "email_verified": {
          "name": "email_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "company": {
          "name": "company",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "industry": {
          "name": "industry",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "audience": {
          "name": "audience",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "voice": {
          "name": "voice",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "banned_terms": {
          "name": "banned_terms",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "safety": {
          "name": "safety",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'standard'"
        },
        "preferred_hook_categories": {
          "name": "preferred_hook_categories",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "psychological_risk_tolerance": {
          "name": "psychological_risk_tolerance",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'medium'"
        },
        "creativity_preference": {
          "name": "creativity_preference",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'balanced'"
        },
        "urgency_preference": {
          "name": "urgency_preference",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'moderate'"
        },
        "personality_insights": {
          "name": "personality_insights",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "pro_generations_used": {
          "name": "pro_generations_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "draft_generations_used": {
          "name": "draft_generations_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "weekly_draft_reset": {
          "name": "weekly_draft_reset",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        },
        "free_credits": {
          "name": "free_credits",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "used_credits": {
          "name": "used_credits",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_premium": {
          "name": "is_premium",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_subscription_id": {
          "name": "stripe_subscription_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "subscription_status": {
          "name": "subscription_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'free'"
        },
        "subscription_plan": {
          "name": "subscription_plan",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'free'"
        },
        "current_period_end": {
          "name": "current_period_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "cancel_at_period_end": {
          "name": "cancel_at_period_end",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        }
      },
      "indexes": {
        "users_email_idx": {
          "name": "users_email_idx",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "users_firebase_uid_idx": {
          "name": "users_firebase_uid_idx",
          "columns": [
            {
              "expression": "firebase_uid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "users_subscription_status_idx": {
          "name": "users_subscription_status_idx",
          "columns": [
            {
              "expression": "subscription_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        },
        "users_firebase_uid_unique": {
          "name": "users_firebase_uid_unique",
          "nullsNotDistinct": false,
          "columns": [
            "firebase_uid"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.web_vitals": {
      "name": "web_vitals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "lcp": {
          "name": "lcp",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "fid": {
          "name": "fid",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "cls": {
          "name": "cls",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "fcp": {
          "name": "fcp",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "ttfb": {
          "name": "ttfb",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "device_type": {
          "name": "device_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "connection_type": {
          "name": "connection_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pathname": {
          "name": "pathname",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "referrer": {
          "name": "referrer",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        }
      },
      "indexes": {
        "web_vitals_session_id_idx": {
          "name": "web_vitals_session_id_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "web_vitals_pathname_idx": {
          "name": "web_vitals_pathname_idx",
          "columns": [
            {
              "expression": "pathname",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "web_vitals_timestamp_idx": {
          "name": "web_vitals_timestamp_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "web_vitals_user_id_users_id_fk": {
          "name": "web_vitals_user_id_users_id_fk",
          "tableFrom": "web_vitals",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.webhook_events": {
      "name": "webhook_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "stripe_event_id": {
          "name": "stripe_event_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "event_data": {
          "name": "event_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "processed": {
          "name": "processed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "processing_error": {
          "name": "processing_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_subscription_id": {
          "name": "stripe_subscription_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "NOW()"
        }
      },
      "indexes": {
        "webhook_events_stripe_event_id_idx": {
          "name": "webhook_events_stripe_event_id_idx",
          "columns": [
            {
              "expression": "stripe_event_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "webhook_events_event_type_idx": {
          "name": "webhook_events_event_type_idx",
          "columns": [
            {
              "expression": "event_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "webhook_events_processed_idx": {
          "name": "webhook_events_processed_idx",
          "columns": [
            {
              "expression": "processed",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "webhook_events_user_id_idx": {
          "name": "webhook_events_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "webhook_events_created_at_idx": {
          "name": "webhook_events_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "webhook_events_user_id_users_id_fk": {
          "name": "webhook_events_user_id_users_id_fk",
          "tableFrom": "webhook_events",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "webhook_events_stripe_event_id_unique": {
          "name": "webhook_events_stripe_event_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "stripe_event_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}